<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Happy Number</title>
</head>
<body>
	<script>
	var log = console.log;

	/*
    直接按照题目要求计算即可，但是使用一个对象储存已经出现过的值
    */
	var answer = function(n) {
		if (n<=0) {
			return false;
		}
		var hSum = function(num){
			var sum = 0;
			sNum = num+'';
			for (var i = 0; i < sNum.length; i++) {
				sum += Math.pow(sNum[i] - 0,2);
			}
			return sum;
		}

		var map = {},key = n + '';
		do{
			if (n == 1) {
				return true;
			}
			map[key] = 1;
			n = hSum(n);
			key = n + '';
		}while(!(key in map));

		return false;
		
	};




	var testCase = 'tmmzuxt';
	console.time('testCase');

	log(answer(109));
	console.timeEnd('testCase');




	</script>
</body>
</html>
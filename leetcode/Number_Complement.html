<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Number Complement</title>
</head>
<body>
    <script>
    var log = console.log;

    /*
    Solution1：num为正整数不考虑0。思路是求出num对应的二进制位，
    如5的二进制是101，是三位，三位二进制能表示的最大数是7，
    所以5的补数就是7 - 5。
    考虑求对应位数使用2为底求对数，向上取整。注意给num+1后再取对数
    */
    var answer1 = function(num) {
        return Math.pow(2,Math.ceil(Math.log2(num + 1))) - num - 1; 
    };

    /*
    Solution2：
    换成移位与异或运算，貌似速度还是不行，把取对数换成求二进制长度要快一点点
    
    */
    var answer2 = function(num) {
        var iBit = num.toString(2).length;
        return ((1<<iBit) - 1)^num;
    };

    var answer3 = function(num) {
        var i =1;
        while(i <= num) i=i<<1;
        return (i - 1)^num;
    };
    

    var testCase = 'tmmzuxt';
    console.time('testCase');

    log(answer3(2147483647));
    console.timeEnd('testCase');




    </script>
</body>
</html>